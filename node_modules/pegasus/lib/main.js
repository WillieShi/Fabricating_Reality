var listener = require('./listener'),
	util = require('./util'),
	version = require('./version');

/**
 * Create a Router instance.
 * @param [options] {Object}
 * @return {Function}
 */
module.exports = exports = function (options) {
	// Refine the options.
	options = util.mix({
		charset: 'utf8',
		detailedError: false,
		maxRequestLength: 1024 * 1024 // Default to 1MB.
	}, options);

	return listener.create(options);
};

// Export utility functions.
exports.util = util;

// Export version number.
exports.version = version.number;
